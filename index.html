<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Stock Market with Crypto</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <header>
        <h1>Business Stock Market with Crypto</h1>
        <button id="login-btn" class="btn">Login</button>
        <button id="signup-btn" class="btn">Sign Up</button>
    </header>

    <nav>
        <ul>
            <li><a href="#market">Market</a></li>
            <li><a href="#portfolio">Portfolio</a></li>
            <li><a href="#account">Account</a></li>
            <li><a href="#crypto">Crypto</a></li>
        </ul>
    </nav>

    <main>
        <!-- Sign Up Form -->
        <section id="signup-form" class="card" style="display: none;">
            <h2>Sign Up</h2>
            <form id="signup-form-element">
                <label for="signup-username">Username:</label>
                <input type="text" id="signup-username" name="signup-username" required>
                
                <label for="signup-password">Password:</label>
                <input type="password" id="signup-password" name="signup-password" required>
                
                <button type="submit" class="btn">Create Account</button>
            </form>
        </section>

        <!-- Login Form -->
        <section id="login-form" class="card" style="display: none;">
            <h2>Login</h2>
            <form id="login-form-element">
                <label for="login-username">Username:</label>
                <input type="text" id="login-username" name="login-username" required>
                
                <label for="login-password">Password:</label>
                <input type="password" id="login-password" name="login-password" required>
                
                <button type="submit" class="btn">Login</button>
            </form>
        </section>

        <!-- Market Section -->
        <section id="market" class="card">
            <h2>Available Stocks</h2>
            <ul id="stock-list">
                <li data-stock="LennonMart" class="stock-item">LennonMart - <span class="price">100 Diamonds</span> - <span class="percentage">100%</span> available <button class="buy-btn">Buy</button></li>
                <li data-stock="Lennon Goods and Services" class="stock-item">Lennon Goods and Services - <span class="price">200 Diamonds</span> - <span class="percentage">100%</span> available <button class="buy-btn">Buy</button></li>
                <li data-stock="Meme Station" class="stock-item">Meme Station - <span class="price">150 Emeralds</span> - <span class="percentage">100%</span> available <button class="buy-btn">Buy</button></li>
                <li data-stock="Memesmith" class="stock-item">Memesmith - <span class="price">250 Emeralds</span> - <span class="percentage">100%</span> available <button class="buy-btn">Buy</button></li>
                <li data-stock="Meme's Car Rentals" class="stock-item">Meme's Car Rentals - <span class="price">300 Diamonds</span> - <span class="percentage">100%</span> available <button class="buy-btn">Buy</button></li>
                <li data-stock="Meme Hospital" class="stock-item">Meme Hospital - <span class="price">500 Emeralds</span> - <span class="percentage">100%</span> available <button class="buy-btn">Buy</button></li>
            </ul>
        </section>

        <!-- Crypto Section -->
        <section id="crypto" class="card">
            <h2>Cryptocurrency</h2>
            <ul id="crypto-list">
                <li data-crypto="Bitcoin" class="crypto-item">Bitcoin - 1 BTC = 100 Diamonds <button class="buy-crypto-btn">Buy</button></li>
                <li data-crypto="Ethereum" class="crypto-item">Ethereum - 1 ETH = 150 Diamonds <button class="buy-crypto-btn">Buy</button></li>
            </ul>
        </section>

        <!-- Portfolio Section -->
        <section id="portfolio" class="card">
            <h2>Your Portfolio</h2>
            <ul id="portfolio-list">
                <li>No stocks purchased yet.</li>
            </ul>
        </section>

        <!-- Account Information Section -->
        <section id="account" class="card">
            <h2>Account Information</h2>
            <p id="user-info">Not logged in</p>
            <p id="diamond-balance">Diamonds: 0</p>
            <p id="crypto-balance">Crypto: Bitcoin 0, Ethereum 0</p>
            <button id="logout-btn" class="btn" style="display: none;">Logout</button>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Business Stock Market with Crypto. All rights reserved.</p>
    </footer>

    <script>
        $(document).ready(function() {
            // Initial setup: Starting balance and diamond earning rate
            var startingDiamonds = 500;
            var earningRate = 5; // Earn 5 diamonds per interval
            var earningInterval = 1000; // 1 second interval for earning diamonds

            // Check if user is logged in when the page loads
            if(localStorage.getItem('username')) {
                $('#user-info').text('Logged in as ' + localStorage.getItem('username'));
                $('#logout-btn').show();
                $('#login-btn').hide();
            }

            // Toggle Sign Up form
            $('#signup-btn').click(function() {
                $('#signup-form').toggle();
                $('#login-form').hide(); // Hide Login form if it's visible
            });

            // Toggle Login form
            $('#login-btn').click(function() {
                $('#login-form').toggle();
                $('#signup-form').hide(); // Hide Sign Up form if it's visible
            });

            // Handle login form submission
            $('#login-form-element').submit(function(e) {
                e.preventDefault();
                var username = $('#login-username').val();
                var password = $('#login-password').val();

                var storedUsername = localStorage.getItem('username');
                var storedPassword = localStorage.getItem('password');

                // Check if the username and password match
                if (username === storedUsername && password === storedPassword) {
                    // Successfully logged in
                    $('#user-info').text('Logged in as ' + username);
                    $('#login-form').hide();
                    $('#logout-btn').show();
                    $('#login-btn').hide();
                } else {
                    alert('Invalid username or password.');
                }
            });

            // Handle sign-up form submission
            $('#signup-form-element').submit(function(e) {
                e.preventDefault();
                var username = $('#signup-username').val();
                var password = $('#signup-password').val();

                // Check if username already exists
                if (localStorage.getItem('username')) {
                    alert('Account already exists. Please log in.');
                    return;
                }

                if (username && password) {
                    // Store the username and password in localStorage
                    localStorage.setItem('username', username);
                    localStorage.setItem('password', password);
                    alert('Account created successfully!');
                    $('#signup-form').hide();
                    $('#login-form').show();
                } else {
                    alert('Please fill in both username and password.');
                }
            });

            // Handle logout functionality
            $('#logout-btn').click(function() {
                localStorage.removeItem('username');
                localStorage.removeItem('password');
                $('#user-info').text('Not logged in');
                $('#logout-btn').hide();
                $('#login-btn').show();
            });

            // Track user money (Diamonds)
            var userMoney = startingDiamonds;

            // Track user crypto holdings
            var cryptoPortfolio = {
                'Bitcoin': 0,
                'Ethereum': 0
            };

            // Update diamond balance display
            function updateDiamondBalance() {
                $('#diamond-balance').text('Diamonds: ' + userMoney);
            }

            // Update crypto balance display
            function updateCryptoBalance() {
                $('#crypto-balance').text('Crypto: Bitcoin ' + cryptoPortfolio['Bitcoin'] + ', Ethereum ' + cryptoPortfolio['Ethereum']);
            }

            // Earn diamonds over time
            setInterval(function() {
                userMoney += earningRate;
                updateDiamondBalance();
            }, earningInterval);

            // Handle stock and crypto purchases
            var stockData = {
                'LennonMart': { price: 100, available: 100 },
                'Lennon Goods and Services': { price: 
